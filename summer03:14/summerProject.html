
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Project</title>
</head>



<style>

    .matrix1 {

        fill: white;
    }


    .labeltext0 {
        font-size: 20px ;
        font-family: Arial;
        font-Weight: bold;
        fill:#000000;
    }


    .labeltext1 {
        font-size: 14px ;
        font-family: Arial;
        fill:#F1F1F1;
    }

    .nodetext {
        font-size: 20px ;
        font-family: Arial;
        fill:#000000;
    }

    .text {
        font-size: 6px ;
        font-family: Arial;
        fill:black;
        font-Weight: lighter;
        fill-opacity:0.0;
        /*这个是每个node的 绑定的  字体的 样式*/
    }



    .tooltip{
        position: absolute;
        width: auto;

        height: auto;
        font-family: Arial;
        font-size: 10px;
        text-align: center;
        border-style: dotted;
        border-width: 2px;
        background-color: white;
        border-radius: 5px;
    }


    .tooltip0{

        position: absolute;
        width: 10%;

        height: 10%;
        font-family: simsun;
        font-size: 14px;
        text-align: center;
        border-style: solid;
        border-width: 2px;
        background-color: white;
        border-radius: 5px;

    }








</style>




<body>


<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>



<script src="duplicate.js" charset="utf-8"></script>
<script src="multext.js" charset="utf-8"></script>
<script src="outputString.js" charset="utf-8"></script>




<script>

    //造  svg  画布!
    var width = 950;	//画布的宽度
    var height = 430;	//画布的高度

    var color = d3.scale.category10();//构造一个10中颜色的序数比例尺
    // var padding = { left:80, right:50, top:20, bottom:30};


    // 在body中添加一个  svg 画布
    var svg = d3.select("body")
            .append("svg")
            .attr("width",width)
            .attr("height",height)
            .style("background-color","#e64626")
            ;



    var adiv = d3.select("body").append("img")
            //.attr("href","/WebstormProjects/summer/00/00X/0000.html?=Simpson__Stephen")
            .style("background-color","red")
            .style("left","10px")
            .style("top","10px")
            .style("color","red")
            .attr("class","tooltip0")
//            .attr("href","/WebstormProjects/summer/00/00X/0000.html?=Simpson__Stephen")
//             增加 a标签 里面可以用href, href就是要跳转到的界面
//这里增加的是  img 标签
//或者用a标签来 包含img 标签
            //这一行的意义???????????
            //这一行的意思??????????
            //
            .attr("src","./images/2.png")
            .on('click', function(d,i){
                console.log(document.referrer);//这个是  这个页面的前面一个
                window.location.href="projectNode.html";
            });





    var tooltip = d3.select("body")
            .append("div")
            .attr("class","tooltip")
            .style("opacity",0.0);



//    svg.append("rect")
//            .attr("width", "100%")
//            .attr("height", "100%")
//    .attr("fill", "grey");
    //如果把 .attr("fill", "grey"); 加到append("rect")之后
    // 就是在这个画布上, 增加一个与画布同样大小的矩形,并且 染成灰色


    var label1 = svg.append("text")
            .attr("class","labeltext0")
            .attr("x",530)
            .attr("y",27)
            .text("Domain");


    var label10= svg.append("text")
            .attr("class","labeltext1")
            .attr("x",227)
            .attr("y",66)
            .text("Population")
            ;

    var label11= svg.append("text")
            .attr("class","labeltext1")
            .attr("x",430)
            .attr("y",66)
            .text("Biology")
            ;

    var label12= svg.append("text")
            .attr("class","labeltext1")
            .attr("x",574)
            .attr("y",66)
            .text("Society and Environment")
            ;

    var label13= svg.append("text")
            .attr("class","labeltext1")
            .attr("x",820)
            .attr("y",66)
            .text("Solutions")
            ;
    //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    var label2 = svg.append("text")
            .attr("class","labeltext0")
            .attr("x",9)
            .attr("y",250)
            .text("Theme")
            ;

    var str1 = "Nutrition";

    var M1=appendMultiText(svg,str1,107,104,80,14,"Arial",0,0);

    //在 svg 容器里的坐标(300, 300)处添加指定字符串，
    // 每一行的长度为200个像素，超出的部分自动换行，字体大小为20，字体为宋体

    // appendMultiText自动为我们添加了<text >和<tspan>。

    M1.attr("transform","rotate(0)")
            .attr("fill","#F1F1F1")
    ;




    var str2 = "PAEEE";

    var M2=appendMultiText(svg,str2,110,195,60,14,"Arial",1,0);

    //在 svg 容器里的坐标(300, 300)处添加指定字符串，
    // 每一行的长度为200个像素，超出的部分自动换行，字体大小为20，字体为宋体

    // appendMultiText自动为我们添加了<text >和<tspan>。

    M2.attr("transform","rotate(0)")
            .attr("fill","#F1F1F1")
    ;




    var str3 = "Politics, governance and  ethics";

    var M3=appendMultiText(svg,str3,84,270,70,14,"Arial",2,0);

    //在 svg 容器里的坐标(300, 300)处添加指定字符串，
    // 每一行的长度为200个像素，超出的部分自动换行，字体大小为20，字体为宋体

    // appendMultiText自动为我们添加了<text >和<tspan>。

    M3.attr("transform","rotate(0)")
            .attr("fill","#F1F1F1")
    ;



    var str4 = "Complex systems and modelling";

    var M4=appendMultiText(svg,str4,92,356,60,14,"Arial",3,0);

    //在 svg 容器里的坐标(300, 300)处添加指定字符串，
    // 每一行的长度为200个像素，超出的部分自动换行，字体大小为20，字体为宋体

    // appendMultiText自动为我们添加了<text >和<tspan>。

    M4.attr("transform","rotate(0)")
            .attr("fill","#F1F1F1")
    ;



    //====================================================================================
    var rw1 =194;
    var rh1 =85;


    var data1 = [];
    for (var k=0; k<4; k++){
        //k 是控制 行数
        data1.push(d3.range(4));
        //range里面的值是控制列数

    };
    //data =Array[4]  相当于是一个包含 4个元素(4行)的array, 每一个元素也是一个array:0,1,2,3
    console.log(data1);




    var rec1 =svg.selectAll('g')
            .data(data1)
            .enter()
            .append('g')
            .attr('transform', function(d, i) {
                return '    translate(   162 ,     ' +(88 * i+78) +  '     )   ';
                //这个是在 确认 每一行每一行的 距离
            });

    rec1.selectAll('rect')
            .data(function(d) { return d; })
            //这return的就是d, 不是当前元素的子元素
            // 已经 绑定完一次数据了, 这次再绑定是
            // 绑定数据里面的 inner array

            //.data(data1)

            .enter()
            .append('rect')
            .attr('x', function(d, i) { return 197 * i; })
            .attr('width', rw1)
            .attr('height', rh1)
            .attr("class","matrix1");



    //====================================================================================


    d3.json("projectClassified.json",function(error,root) {


        if (error) {
            return console.log(error);
        }
        console.log(root);


        var ar = [];
        var arr = [];
        var arra = [];
        var array = [];



        for (i = 0; i < root.length; i++) {
            //console.log("%s", root[i]["Title"]);
            //console.log("%s", root[i]["Main_Domain"]);
            //console.log("%s", root[i]["Main_Theme"]);


            switch (root[i]["Main_Domain"]) {
                case "Biology":
                    ar.push(root[i]["Title"]);
                    break;
                case "Society and Environment":
                    arr.push(root[i]["Title"]);
                    break;
                case "Solutions":
                    arra.push(root[i]["Title"]);
                    break;


                default:
                    array.push(root[i]["Title"]);
            }

        }



//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
        var br = [];
        var brr = [];
        var brra = [];
        var brray = [];



        for (i = 0; i < root.length; i++) {
            //console.log("%s", root[i]["Title"]);
            //console.log("%s", root[i]["Main_Domain"]);
            //console.log("%s", root[i]["Main_Theme"]);


            switch (root[i]["Main_Theme"]) {
                case "Nutrition":
                    br.push(root[i]["Title"]);
                    break;
                case "PAEEE":
                    brr.push(root[i]["Title"]);
                    break;
                case "Politics, governance and ethics":
                    brra.push(root[i]["Title"]);
                    break;


                default:
                    brray.push(root[i]["Title"]);
            }

        }




//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q00 =br.concat(array);
        console.log(q00);
        var q00u=duplicate(q00);
        console.log(q00u);

//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q01 =br.concat(ar);
        console.log(q01);
        var q01u=duplicate(q01);
        console.log(q01u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q02 =br.concat(arr);
        console.log(q02);
        var q02u=duplicate(q02);
        console.log(q02u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q03 =br.concat(arra);
        console.log(q03);
        var q03u=duplicate(q03);
        console.log(q03u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q10 =brr.concat(array);
        console.log(q10);
        var q10u=duplicate(q10);
        console.log(q10u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q11 =brr.concat(ar);
        console.log(q11);
        var q11u=duplicate(q11);
        console.log(q11u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q12 =brr.concat(arr);
        console.log(q12);
        var q12u=duplicate(q12);
        console.log(q12u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q13 =brr.concat(arra);
        console.log(q13);
        var q13u=duplicate(q13);
        console.log(q13u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        // 第三行第一列
        var q20 =brra.concat(array);
        console.log(q20);
        var q20u=duplicate(q20);
        console.log(q20u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q21 =brra.concat(ar);
        console.log(q21);
        var q21u=duplicate(q21);
        console.log(q21u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q22 =brra.concat(arr);
        console.log(q22);
        var q22u=duplicate(q22);
        console.log(q22u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q23 =brra.concat(arra);
        console.log(q23);
        var q23u=duplicate(q23);
        console.log(q23u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q30 =brray.concat(array);
        console.log(q30);
        var q30u=duplicate(q30);
        console.log(q30u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q31 =brray.concat(ar);
        console.log(q31);
        var q31u=duplicate(q31);
        console.log(q31u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q32 =brray.concat(arr);
        console.log(q32);
        var q32u=duplicate(q32);
        console.log(q32u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        var q33 =brray.concat(arra);
        console.log(q33);
        var q33u=duplicate(q33);
        console.log(q33u);
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^



////================================================================================
//=====================================================================================

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


        ark00=[];
        c00=[];
        ee00=[];
        for(p00=0;p00<q00u.length;p00++){


            c00[p00]=[300+p00*20,300+p00*24];
            ark00.push(c00[p00]);

        }

        console.log(ark00);
        console.log(q00u);

        for(yy=0;yy<q00u.length;yy++){
            ee00.push({"mi": yy, "Title": q00u[yy]});
        }

        console.log(ee00);


//////====================================================
        var force0 = d3.layout.force()
                .nodes(ee00)

                .size([440,240])//  靠这个来控制pop up 出来的 位置~

                .charge(-600)
                .start();

//**************************************************************************=================================


//-----------------------------------------------------------------------------
        var svg_nodes0 = svg.selectAll("c")
                .data(ee00)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("mi",function(d){
                    return d["mi"];

                })

                .attr("fill","#424242")



                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee00[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 2) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 20) + "px");
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })








                .on("click",function(d,i){


                    var mid=this.getAttribute("mi");
                    var Title=document.querySelector("text[mi='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url00=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(i).toString()+ ".html?="+url00;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })


                ;



        var svg_texts0 = svg.selectAll("t")
                .data(ee00)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)

                .attr("mi",function(d){
                    return d["mi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;

        force0.on("tick", function () {


            svg_nodes0.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes0.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts0.attr("x", function (d) {
                return d.x
            });
            svg_texts0.attr("y", function (d) {
                return d.y
            });
        });



////=================================================================================
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
////================================================================================

//        ark01=[];
        c01=[];
        ee01=[];

//        for(p01=0;p01<q01u.length;p01++){
//
//
//            c01[p01]=[580+p01*20,200+p01*24];
//
//            ark01.push(c01[p01]);
//
//        }
//
//        console.log(ark01);
        console.log(q01u);


        for(yyy=0;yyy<q01u.length;yyy++){
            ee01.push({"mmi": yyy, "Title": q01u[yyy]});
        }

        console.log(ee01);


////=====================================================================================

        var force1 = d3.layout.force()
                .nodes(ee01)
                .gravity(0.7)
                .size([850,240])//  靠这个来控制pop up 出来的 位置~

                .charge(-110)
                .start();
////=====================================================================================


        var svg_nodes1 = svg.selectAll("cc")
                .data(ee01)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("mmi",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


//                .on("mouseover",function(d,i){
//                    //显示连接线上的文字
//                    svg_texts1.style("fill-opacity",function(c){
//                        if(c.mmi== d.mmi){
//                            return 1.0;
//                        }
//
//                    });
//                })


//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//                .on("mouseover",function(d,i){
//                    //显示连接线上的文字
//                    svg_texts1[0][i].style["fill-opacity"]=1.0;
//
//                //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//                //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//                //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//                //565行!!!!
//                //输出来的  svg_texts1 就是一个  array
//                //这个array只有一项, 标号为0的第一项
//                //第一项就是一个  长度为10的  array!!!!!
//
//
//
//                })
//                .on("mouseout",function(d,i){
//                    //隐去连接线上的文字
//                    svg_texts1[0][i].style["fill-opacity"]=0.0;
//                })
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++



                .on("mouseover",function(d,i){


                    tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee01[i]["Title"]) )
                            .style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 1) + "px")
                            .style("opacity", 1.0);

                    //  鼠标停留在那 , 就会 弹出一个  框来!


                    d3.select(this)
                            .style("opacity", 0.5);





                }


  )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })











                .on("click",function(d,i){


                    var mid=this.getAttribute("mmi");
                    var Title=document.querySelector("text[mmi='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url01=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url01;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来


                })

                ;



        var svg_texts1 = svg.selectAll("tt")
                .data(ee01)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("mmi",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;

        console.log(svg_texts1);

        console.log(output(ee01[1]["Title"]));



        force1.on("tick", function () {


            svg_nodes1.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes1.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts1.attr("x", function (d) {
                return d.x
            });
            svg_texts1.attr("y", function (d) {
                return d.y
            });
        });


//====
////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

//        ark02=[];
        c02=[];
        ee02=[];
//        for(p02=0;p02<q02u.length;p02++){
//
//
//            c02[p02]=[920+p02*17,220+p02*34];
//            ark02.push(c02[p02]);
//
//        }
//
//        console.log(ark02);
        console.log(q02u);

        for(yys=0;yys<q02u.length;yys++){
            ee02.push({"mmi": yys, "Title": q02u[yys]});
        }

        console.log(ee02);

////=====================================================================================

        var force2 = d3.layout.force()
                .nodes(ee02)
                .gravity(0.7)
                .size([1300,240])//  靠这个来控制pop up 出来的 位置~

                .charge(-210)
                .start();
////=====================================================================================


        var svg_nodes2 = svg.selectAll("cqc")
                .data(ee02)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki2",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")





                .on("mouseover",function(d,i){


                tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee02[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })










                .on("click",function(d,i){


                    var mid=this.getAttribute("ki2");
                    var Title=document.querySelector("text[ki2='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url02=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url02;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts2 = svg.selectAll("ttt")
                .data(ee02)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki2",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;

        console.log(svg_texts2);

        console.log(output(ee02[1]["Title"]));



        force2.on("tick", function () {


            svg_nodes2.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes2.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts2.attr("x", function (d) {
                return d.x
            });
            svg_texts2.attr("y", function (d) {
                return d.y
            });
        });


////=====================================================================================


////================================================================================


////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


        ark03=[];
        c03=[];
        ee03=[];

        console.log(q03u);

        for(yy=0;yy<q03u.length;yy++){
            ee03.push({"mmi": yy, "Title": q03u[yy]});
        }

        console.log(ee03);


        var force3 = d3.layout.force()
                .nodes(ee03)
                .gravity(0.7)
                .size([1640,240])//  靠这个来控制pop up 出来的 位置~

                .charge(-210)
                .start();
////=====================================================================================


        var svg_nodes3 = svg.selectAll("cq3c")
                .data(ee03)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki3",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee03[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki3");
                    var Title=document.querySelector("text[ki3='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url03=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url03;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts3 = svg.selectAll("ttt3")
                .data(ee03)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki3",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;

        console.log(svg_texts3);

        console.log(output(ee03[1]["Title"]));



        force3.on("tick", function () {


            svg_nodes3.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes3.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts3.attr("x", function (d) {
                return d.x
            });
            svg_texts3.attr("y", function (d) {
                return d.y
            });
        });


////=====================================================================================

////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

        ark10=[];
        c10=[];
        ee10=[];

        console.log(q10u);

        for(yy=0;yy<q10u.length;yy++){
            ee10.push({"mmi": yy, "Title": q10u[yy]});
        }

        console.log(ee10);


        var force10 = d3.layout.force()
                .nodes(ee10)
                .gravity(0.3)
                .size([520,400])//  靠这个来控制pop up 出来的 位置~

                .charge(-410)
                .start();
////=====================================================================================


        var svg_nodes10 = svg.selectAll("cq10c")
                .data(ee10)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki10",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee10[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki10");
                    var Title=document.querySelector("text[ki10='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url10=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url10;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts10 = svg.selectAll("ttt10")
                .data(ee10)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki10",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force10.on("tick", function () {


            svg_nodes10.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes10.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts10.attr("x", function (d) {
                return d.x
            });
            svg_texts10.attr("y", function (d) {
                return d.y
            });
        });


////=====================================================================================

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


        ark11=[];
        c11=[];
        ee11=[];


        console.log(q11u);
        for(yy=0;yy<q11u.length;yy++){
            ee11.push({"mmi": yy, "Title": q11u[yy]});
        }

        console.log(ee11);


        var force11 = d3.layout.force()
                .nodes(ee11)
                .gravity(0.7)
                .size([880,400])//  靠这个来控制pop up 出来的 位置~

                .charge(-410)
                .start();
////=====================================================================================


        var svg_nodes11 = svg.selectAll("cq11c")
                .data(ee11)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki11",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee11[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki11");
                    var Title=document.querySelector("text[ki11='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url11=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url11;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts11 = svg.selectAll("ttt11")
                .data(ee11)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki11",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force11.on("tick", function () {


            svg_nodes11.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes11.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts11.attr("x", function (d) {
                return d.x
            });
            svg_texts11.attr("y", function (d) {
                return d.y
            });
        });


////=====================================================================================

////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++



        c12=[];
        ee12=[];


        console.log(q12u);
        for(yy=0;yy<q12u.length;yy++){
            ee12.push({"mmi": yy, "Title": q12u[yy]});
        }

        console.log(ee12);


        var force12 = d3.layout.force()
                .nodes(ee12)
                .gravity(0.7)
                .size([1280,420])//  靠这个来控制pop up 出来的 位置~

                .charge(-310)
                .start();
////=====================================================================================


        var svg_nodes12 = svg.selectAll("cq12c")
                .data(ee12)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki12",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee12[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki12");
                    var Title=document.querySelector("text[ki12='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url12=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url12;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts12 = svg.selectAll("ttt12")
                .data(ee12)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki12",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force12.on("tick", function () {


            svg_nodes12.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes12.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts12.attr("x", function (d) {
                return d.x
            });
            svg_texts12.attr("y", function (d) {
                return d.y
            });
        });

////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


        ee13=[];



        console.log(q13u);

        for(yy=0;yy<q13u.length;yy++){
            ee13.push({"mmi": yy, "Title": q13u[yy]});
        }

        console.log(ee13);


        var force13 = d3.layout.force()
                .nodes(ee13)
                .gravity(0.7)
                .size([1680,420])//  靠这个来控制pop up 出来的 位置~

                .charge(-310)
                .start();
////=====================================================================================


        var svg_nodes13 = svg.selectAll("cq13c")
                .data(ee13)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki13",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee13[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki13");
                    var Title=document.querySelector("text[ki13='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url13=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url13;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts13 = svg.selectAll("ttt13")
                .data(ee13)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki13",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force13.on("tick", function () {


            svg_nodes13.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes13.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts13.attr("x", function (d) {
                return d.x
            });
            svg_texts13.attr("y", function (d) {
                return d.y
            });
        });
////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
        ee20=[];


        console.log(q20u);
        for(yy=0;yy<q20u.length;yy++){
            ee20.push({"mmi": yy, "Title": q20u[yy]});
        }

        console.log(ee20);


        var force20 = d3.layout.force()
                .nodes(ee20)
                .gravity(0.7)
                .size([480,600])//  靠这个来控制pop up 出来的 位置~

                .charge(-310)
                .start();
////=====================================================================================


        var svg_nodes20 = svg.selectAll("cq20c")
                .data(ee20)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki20",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee20[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki20");
                    var Title=document.querySelector("text[ki20='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url20=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url20;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts20 = svg.selectAll("ttt20")
                .data(ee20)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki20",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force20.on("tick", function () {


            svg_nodes20.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes20.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts20.attr("x", function (d) {
                return d.x
            });
            svg_texts20.attr("y", function (d) {
                return d.y
            });
        });

//        pppstring20=[];
//        for(var ppp20=0;ppp20<q20u.length;ppp20++){
//
//            pppstring20.push(appendMultiText(svg,q20u[ppp20],230+ppp20*10,780+ppp20*98,38+ppp20*55,9,"simsun",20,ppp20));
//
//            // 哪里定义添加 text 属性的时候
//            //就在那里  添加 mat属性!
//
//        }
//

//   把这个添加  文字的方式给     去掉!!!!
//还是按照    常规的    方式!!!!!





//////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

        ee21=[];


        console.log(q21u);
        for(yy=0;yy<q21u.length;yy++){
            ee21.push({"mmi": yy, "Title": q21u[yy]});
        }

        console.log(ee21);


        var force21 = d3.layout.force()
                .nodes(ee21)
                .gravity(0.7)
                .size([880,600])//  靠这个来控制pop up 出来的 位置~

                .charge(-310)
                .start();
////=====================================================================================


        var svg_nodes21 = svg.selectAll("cq21c")
                .data(ee21)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki21",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee21[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki21");
                    var Title=document.querySelector("text[ki21='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url21=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url21;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts21 = svg.selectAll("ttt21")
                .data(ee21)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki21",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force21.on("tick", function () {


            svg_nodes21.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes21.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts21.attr("x", function (d) {
                return d.x
            });
            svg_texts21.attr("y", function (d) {
                return d.y
            });
        });


//////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

        ee22=[];

        console.log(q22u);

        for(yy=0;yy<q22u.length;yy++){
            ee22.push({"mmi": yy, "Title": q22u[yy]});
        }

        console.log(ee22);


        var force22 = d3.layout.force()
                .nodes(ee22)
                .gravity(0.3)
                .size([1280,600])//  靠这个来控制pop up 出来的 位置~

                .charge(-410)
                .start();
////=====================================================================================


        var svg_nodes22 = svg.selectAll("cq22c")
                .data(ee22)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki22",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee22[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki22");
                    var Title=document.querySelector("text[ki22='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url22=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url22;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts22 = svg.selectAll("ttt22")
                .data(ee22)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki22",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force22.on("tick", function () {


            svg_nodes22.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes22.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts22.attr("x", function (d) {
                return d.x
            });
            svg_texts22.attr("y", function (d) {
                return d.y
            });
        });

//////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

        ee23=[];
        console.log(q23u);


        for(yy=0;yy<q23u.length;yy++){
            ee23.push({"mmi": yy, "Title": q23u[yy]});
        }

        console.log(ee23);


        var force23 = d3.layout.force()
                .nodes(ee23)
                .gravity(0.3)
                .size([1680,600])//  靠这个来控制pop up 出来的 位置~

                .charge(-410)
                .start();
////=====================================================================================


        var svg_nodes23 = svg.selectAll("cq23c")
                .data(ee23)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki23",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee23[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki23");
                    var Title=document.querySelector("text[ki23='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url23=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url23;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts23 = svg.selectAll("ttt23")
                .data(ee23)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki23",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force23.on("tick", function () {


            svg_nodes23.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes23.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts23.attr("x", function (d) {
                return d.x
            });
            svg_texts23.attr("y", function (d) {
                return d.y
            });
        });


//////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

        ee30=[];
        console.log(q30u);
        for(yy=0;yy<q30u.length;yy++){
            ee30.push({"mmi": yy, "Title": q30u[yy]});
        }

        console.log(ee30);


        var force30 = d3.layout.force()
                .nodes(ee30)
                .gravity(0.8)
                .size([480,760])//  靠这个来控制pop up 出来的 位置~

                .charge(-250)
                .start();
////=====================================================================================


        var svg_nodes30 = svg.selectAll("cq30c")
                .data(ee30)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki30",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee30[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki30");
                    var Title=document.querySelector("text[ki30='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url30=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url30;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts30 = svg.selectAll("ttt30")
                .data(ee30)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki30",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force30.on("tick", function () {


            svg_nodes30.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes30.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts30.attr("x", function (d) {
                return d.x
            });
            svg_texts30.attr("y", function (d) {
                return d.y
            });
        });


//

//////=====================================================================================
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

        ee31=[];


        console.log(q31u);
        for(yy=0;yy<q31u.length;yy++){
            ee31.push({"mmi": yy, "Title": q31u[yy]});
        }

        console.log(ee31);


        var force31 = d3.layout.force()
                .nodes(ee31)
                .gravity(0.9)
                .size([880,770])//  靠这个来控制pop up 出来的 位置~

                .charge(-180)
                .start();
////=====================================================================================


        var svg_nodes31 = svg.selectAll("cq31c")
                .data(ee31)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki31",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee31[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki31");
                    var Title=document.querySelector("text[ki31='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url31=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url31;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts31 = svg.selectAll("ttt31")
                .data(ee31)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki31",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force31.on("tick", function () {


            svg_nodes31.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes31.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts31.attr("x", function (d) {
                return d.x
            });
            svg_texts31.attr("y", function (d) {
                return d.y
            });
        });



////=====================================================================================
////=====================================================================================

        ee32=[];


        console.log(q32u);

        for(yy=0;yy<q32u.length;yy++){
            ee32.push({"mmi": yy, "Title": q32u[yy]});
        }

        console.log(ee32);


        var force32 = d3.layout.force()
                .nodes(ee32)
                .gravity(0.9)
                .size([1280,760])//  靠这个来控制pop up 出来的 位置~

                .charge(-400)
                .start();
////=====================================================================================


        var svg_nodes32 = svg.selectAll("cq32c")
                .data(ee32)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki32",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee32[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki32");
                    var Title=document.querySelector("text[ki32='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url32=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url32;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts32 = svg.selectAll("ttt32")
                .data(ee32)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki32",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force32.on("tick", function () {


            svg_nodes32.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes32.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts32.attr("x", function (d) {
                return d.x
            });
            svg_texts32.attr("y", function (d) {
                return d.y
            });
        });


////=====================================================================================
////=====================================================================================

        ee33=[];


        console.log(q33u);


        for(yy=0;yy<q33u.length;yy++){
            ee33.push({"mmi": yy, "Title": q33u[yy]});
        }




        var force33 = d3.layout.force()
                .nodes(ee33)
                .gravity(0.9)
                .size([1680,760])//  靠这个来控制pop up 出来的 位置~

                .charge(-170)
                .start();
////=====================================================================================


        var svg_nodes33 = svg.selectAll("cq33c")
                .data(ee33)
                .enter()
                .append("circle")
                .attr("r",5)

                .attr("ki33",function(d){
                    return d["mmi"];

                })

                .attr("fill","#424242")


                .on("mouseover",function(d,i){


                            tooltip.html("<b style='color:red'>Title</b>"+":"+output(ee33[i]["Title"]) )
                                    .style("left", (d3.event.pageX) + "px")
                                    .style("top", (d3.event.pageY + 1) + "px")
                                    .style("opacity", 1.0);

                            //  鼠标停留在那 , 就会 弹出一个  框来!


                            d3.select(this)
                                    .style("opacity", 0.5);





                        }


                )



                .on("mousemove",function(d,i){
                    /* 鼠标移动时，更改样式 left 和 top 来改变提示框的位置 */

                    tooltip.style("left", (d3.event.pageX) + "px")
                            .style("top", (d3.event.pageY + 10) + "px");
                    //这个地方在控制  鼠标放上去   tooltip会出现在哪
                })


                .on("mouseout",function(d,i){

                    d3.select(this)
                            .style("opacity",1);




                    tooltip.style("opacity",0.0);



                })



                .on("click",function(d,i){


                    var mid=this.getAttribute("ki33");
                    var Title=document.querySelector("text[ki33='"+mid+"']").innerHTML;
                    //mi与 var  mid 相比
                    console.log(Title);
                    //根据node的mat值与text的mat值对应之后,取得text里面的innerHTML
                    //这个innerHTML也就是 每一个text的名字
                    // ' ' 单引号是js 识别, " "  是关联字符窜
                    var url33=Title.replace(/ /g,'_');
                    window.location.href="00/00"+(0).toString()+ ".html?="+url33;
                    //window.location.href="/WebstormProjects/0color"+ ".html?="+url00;
                    //取得新的url页面!! 正式把 project名传到 新的,重定向的url里面
                    // 在新的页面中就是从url中取得value值进来

                })

                ;




        var svg_texts33 = svg.selectAll("ttt33")
                .data(ee33)
                .enter()
                .append("text")
                .attr("class", "text")
                .attr("dx", 2)
                .attr("dy", -0.000001)

                .attr("ki33",function(d){
                    return d["mmi"];
                })
                .text(function(d){
                    return d.Title;
                })
                ;



        force33.on("tick", function () {


            svg_nodes33.attr("cx", function (d) {
                return d.x + 2;
            });
            svg_nodes33.attr("cy", function (d) {
                return d.y + 2;
            });
            //调这个可以调节  text 与node之间的 距离


            svg_texts33.attr("x", function (d) {
                return d.x
            });
            svg_texts33.attr("y", function (d) {
                return d.y
            });
        });




    })




</script>

</body>
</html>
